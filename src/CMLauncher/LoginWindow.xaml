<Window x:Class="CMLauncher.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Steam Login" Height="220" Width="420"
        WindowStartupLocation="CenterOwner"
        Background="#1B1B1B" Foreground="White">
	<Window.Resources>
		<Storyboard x:Key="SpinnerStoryboard" RepeatBehavior="Forever">
			<DoubleAnimation Storyboard.TargetName="ActivitySpinner"
				Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
				From="0" To="360" Duration="0:0:1.0" />
		</Storyboard>
	</Window.Resources>
	<Grid Margin="16">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="Auto"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>

		<!-- Header -->
		<TextBlock Text="Enter your Steam credentials for DepotDownloader" Grid.Row="0" Grid.ColumnSpan="2" Margin="0,0,0,10"/>

		<!-- Username -->
		<TextBlock Text="Username" Grid.Row="1" Grid.Column="0" Margin="0,4,12,0" VerticalAlignment="Center"/>
		<TextBox x:Name="UsernameBox" Grid.Row="1" Grid.Column="1" Margin="0,4,0,0" Width="260"/>

		<!-- Password -->
		<TextBlock Text="Password" Grid.Row="2" Grid.Column="0" Margin="0,4,12,0" VerticalAlignment="Center"/>
		<PasswordBox x:Name="PasswordBox" Grid.Row="2" Grid.Column="1" Margin="0,4,0,0" Width="260"/>

		<!-- Optional status line (e.g., waiting for Steam Guard mobile) -->
		<TextBlock x:Name="StatusText" Grid.Row="3" Grid.ColumnSpan="2" Margin="0,8,0,0" Foreground="#CCCCCC" Visibility="Collapsed"/>

		<!-- Action row matches input width; right-aligned content with spinner then button -->
		<Grid Grid.Row="4" Grid.Column="1" Margin="0,8,0,0" HorizontalAlignment="Center"
		      Width="{Binding ElementName=PasswordBox, Path=ActualWidth}">
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
				<Grid x:Name="ActivitySpinner" Width="18" Height="18" Visibility="Collapsed" RenderTransformOrigin="0.5,0.5" Margin="0,0,8,0">
					<Grid.RenderTransform>
						<RotateTransform Angle="0" />
					</Grid.RenderTransform>
					<Ellipse Width="16" Height="16" Stroke="#55FFFFFF" StrokeThickness="2"/>
					<Path Data="M8,0 A8,8 0 1 1 7.99,0" Stroke="#FFFFFFFF" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round"/>
				</Grid>
				<TextBlock x:Name="ActivityText" Margin="0,0,12,0" VerticalAlignment="Center" Foreground="#CCCCCC" Visibility="Collapsed"/>
				<Button x:Name="LoginButton" Content="Login" Padding="16,8" Click="Save_Click"/>
			</StackPanel>
		</Grid>
	</Grid>
</Window>